<md-card class="page-card">
  <md-card-header>
    <md-card-title>
      <h1>Vote!</h1>
    </md-card-title>
  </md-card-header>
  <md-card-content>

    <md-expansion-panel expanded="true">
      <md-expansion-panel-header class="mat-expanded">
        <md-panel-title class="header-ratio-1">
          Title
        </md-panel-title>
        <md-panel-description class="header-ratio-2">
          Description
        </md-panel-description>
      </md-expansion-panel-header>

      <div class="header-ratio-1 inline-div">{{ current?.title }}</div>
      <div class="header-ratio-2 inline-div">{{ current?.description }}</div>

    </md-expansion-panel>

    <md-expansion-panel expanded="true">
      <md-expansion-panel-header>
        <md-panel-title class="header-ratio-1">
          Place Your Vote
        </md-panel-title>
        <md-panel-description class="header-ratio-2">
          {{ ((getVotes() | mine | first)?.value | fibonocci) || '(No Vote)' }}
        </md-panel-description>
      </md-expansion-panel-header>
      <ng-container *ngIf="(getVotes() | mine)?.length > 0; else noVote">
        <md-card *ngFor="let fib of FIBONOCCI" class="card-as-row" (click)="selectVote(fib, true)">
          <div class="fib-row-1"><strong>{{ fib.value }}</strong></div>
          <div class="fib-row-2">{{ fib.description }}</div>
        </md-card>
      </ng-container>
      <ng-template #noVote>
        <md-card *ngFor="let fib of FIBONOCCI" class="card-as-row" (click)="selectVote(fib, false)">
          <div class="fib-row-1"><strong>{{ fib.value }}</strong></div>
          <div class="fib-row-2">{{ fib.description }}</div>
        </md-card>
      </ng-template>
    </md-expansion-panel>

  </md-card-content>
  <md-card-actions>
    <button md-raised-button color="basic" (click)="clearVote()" [disabled]="!title && !description && !more">Clear</button>
    <button md-raised-button color="basic" (click)="goToTicketList()">Cancel</button>
  </md-card-actions>
</md-card>
